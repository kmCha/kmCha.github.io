(window.kMJsonp=window.kMJsonp||[]).push([[1],{"+okp":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container-index"},[t._l(t.list,function(t){return n("list-item",{key:t.id,attrs:{item:t}})}),t._v(" "),n("el-select",{attrs:{placeholder:"排序方式"},on:{change:t.onSortChange},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next, jumper","current-page":t.page,total:t.total,"page-size":t.pageSize},on:{"current-change":t.pageChanged}})],2)},i=[];a._withStripped=!0,n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"37Bw":function(t,e,n){"use strict";var a=n("fxP2");n.n(a).a},"8Id0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){var e=t.page,n=void 0===e?1:e,a=t.sort,i=void 0===a?"date":a;return new Promise(function(t,e){o.default.ajax({url:r+"/wallpapers?page="+n+"&sort="+i,type:"GET",dataType:"json",success:function(e){t(e)},error:function(){e(new Error("网络信号不好，请稍后再试"))}})})},e.getListRandom=function(){return new Promise(function(t,e){o.default.ajax({url:r+"/wallpapersRandom",type:"GET",dataType:"json",success:function(e){t(e)},error:function(){e(new Error("网络信号不好，请稍后再试"))}})})};var a,i=n("RuVQ"),o=(a=i)&&a.__esModule?a:{default:a};var r="//api.chamajiuxi.com"},"9ku5":function(t,e,n){"use strict";var a=n("mRZn");n.n(a).a},AkeG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n("r0AA"),o=(a=i)&&a.__esModule?a:{default:a},r=n("8Id0");e.default={name:"All",components:{"list-item":o.default},data:function(){return{list:[],page:1,total:1,pageSize:1,loading:!1,sort:"date",options:[{value:"date",label:"按时间排序"},{value:"hot",label:"按热度排序"}]}},watch:{"$route.params.page":function(t){this.changePage(Number(t))}},created:function(){this.changePage(Number(this.$route.params.page))},methods:{getList:function(){var t=this;this.loading=!0,(0,r.getList)({page:this.page,sort:this.sort}).then(function(e){1===e.code&&(t.list=e.list,t.total=e.total,t.pageSize=e.pageSize),t.loading=!1}).catch(function(e){t.loading=!1})},changePage:function(t){this.page=t,this.getList()},pageChanged:function(t){this.$router.push({name:"all",params:{page:t}})},onSortChange:function(){this.$router.push({name:"all",params:{page:1}})}}}},DQFE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"list-item",props:["item"],methods:{download:function(){window.open(this.item.image.url)}}}},Lf04:function(t,e,n){"use strict";n.r(e);var a=n("DQFE"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e.default=i.a},fxP2:function(t,e,n){},iepI:function(t,e,n){"use strict";n.r(e);var a=n("+okp"),i=n("m/7D");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("37Bw");var r=n("F8we"),u=Object(r.a)(i.default,a.a,a.b,!1,null,null,null);u.options.__file="src/containers/All.vue",e.default=u.exports},"m/7D":function(t,e,n){"use strict";n.r(e);var a=n("AkeG"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e.default=i.a},mRZn:function(t,e,n){},r0AA:function(t,e,n){"use strict";n.r(e);var a=n("vT+5"),i=n("Lf04");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("9ku5");var r=n("F8we"),u=Object(r.a)(i.default,a.a,a.b,!1,null,null,null);u.options.__file="src/components/ListItem.vue",e.default=u.exports},"vT+5":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-item"},[n("div",{staticClass:"list-item-cover",style:{"background-image":"url("+t.item.image.thumb.url+")"},on:{click:t.download}},[n("div",{staticClass:"list-item-dimention"},[t._v("\n            "+t._s(t.item.width+" X "+t.item.height)+"\n        ")])]),t._v(" "),n("div",{staticClass:"list-item-operation",attrs:{title:"喜欢"}},[n("div",{staticClass:"list-item-button",attrs:{title:"下载"},on:{click:t.download}},[n("i",{staticClass:"el-icon-download"}),t._v("\n            "+t._s(t.item.user_count)+"\n        ")])])])},i=[];a._withStripped=!0,n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})}}]);