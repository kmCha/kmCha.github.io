webpackJsonp([4,7],{58:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(a,"__esModule",{value:!0});var n=e(48),r=i(n),o=e(163),s=i(o);a["default"]={data:function(){return{}},computed:{width:function(){return this.$store.state.windowWidth},height:function(){return this.$store.state.windowHeight},style:function(){return"height: "+this.$store.state.windowHeight+";"},partimationDone:function(){return this.$store.state.partimationAnimationDone}},components:{Navigator:r["default"]},methods:{initializePartimation:function(){var t=this,a=new s["default"]("#canvas");this.$store.commit("cachePartimation",a),a.imageConfig({imgUrl:"/public/blog-title.png",cover:!0}),a.animationConfig({totalFrame:500,cols:500,rows:300,animationType:"easeOutElastic",blur:function(t,a,e,i){return t<20&&a<20&&e<20&&i>0?0:10},filter:function(t,a,e,i){return(a>180||t>200||e>200)&&i>0},delay:function(t){return parseInt(500*Math.random())}}),a.animate().then(function(){t.$store.commit("setPartimationStatus","done")})},replayPartimation:function(){var t=this;this.$store.commit("setPartimationStatus","replay");var a=this.$store.state.partimation;a.animate().then(function(){t.$store.commit("setPartimationStatus","done")})}},beforeRouteEnter:function(t,a,e){e(function(t){t.$store.state.partimation?t.$el.replaceChild(t.$store.state.partimation.canvas,document.querySelector("#canvas")):t.initializePartimation()})},beforeMount:function(){this.$store.commit("hideNav")},beforeDestroy:function(){this.$store.commit("showNav")}}},109:function(t,a,e){a=t.exports=e(1)(),a.push([t.id,".img-header[data-v-e4a2d0a0]{position:relative;width:100%;background-color:#fff}.img-header .canvas-replay[data-v-e4a2d0a0]{position:absolute;top:0;left:0;display:block;padding:10px 20px;margin:20px 10px;text-decoration:none;color:#555}.img-header #canvas[data-v-e4a2d0a0]{width:100%;height:100%}.img-header .link-wrapper[data-v-e4a2d0a0]{position:absolute;left:0;bottom:0;width:100%;z-index:5;text-align:right;box-sizing:border-box;padding-right:50px}.img-header .link-wrapper a[data-v-e4a2d0a0]{display:inline-block;padding:10px 20px;border:1px solid #555;border-radius:.5rem;margin:20px 10px;text-decoration:none;color:#555}.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(1){transition:all .3s ease}.img-header .link-wrapper a:nth-child(1).router-link-active[data-v-e4a2d0a0],.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(1):hover{color:#79bbb9;border-color:#79bbb9}.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(2){transition:all .3s ease}.img-header .link-wrapper a:nth-child(2).router-link-active[data-v-e4a2d0a0],.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(2):hover{color:#b3699c;border-color:#b3699c}.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(3){transition:all .3s ease}.img-header .link-wrapper a:nth-child(3).router-link-active[data-v-e4a2d0a0],.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(3):hover{color:#80a357;border-color:#80a357}.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(4){transition:all .3s ease}.img-header .link-wrapper a:nth-child(4).router-link-active[data-v-e4a2d0a0],.img-header .link-wrapper a[data-v-e4a2d0a0]:nth-child(4):hover{color:#a7845a;border-color:#a7845a}",""])},134:function(t,a,e){var i=e(109);"string"==typeof i&&(i=[[t.id,i,""]]);e(2)(i,{});i.locals&&(t.exports=i.locals)},139:function(t,a,e){var i,n;e(134),i=e(58);var r=e(158);n=i=i||{},"object"!=typeof i["default"]&&"function"!=typeof i["default"]||(n=i=i["default"]),"function"==typeof n&&(n=n.options),n.render=r.render,n.staticRenderFns=r.staticRenderFns,n._scopeId="data-v-e4a2d0a0",t.exports=i},158:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"img-header",style:style},[_h("canvas",{attrs:{id:"canvas",width:width,height:height}},["\n    “纠西的博客”\n  "])," ",partimationDone?_h("a",{staticClass:"canvas-replay",attrs:{href:"javascript:void(0)"},on:{click:replayPartimation}},[_m(0),"重播\n  "]):_e()," ",_h("div",{staticClass:"link-wrapper"},[_h("router-link",{attrs:{to:{path:"/articles"}}},["文章"])," ",_h("router-link",{attrs:{to:{path:"/categories"}}},["分类"])," ",_h("router-link",{attrs:{to:{path:"/achieves"}}},["归档"])," ",_h("router-link",{attrs:{to:{path:"/tags"}}},["标签"])])])},staticRenderFns:[function(){with(this)return _h("i",{staticClass:"iconfont icon-playfill"})}]}},163:function(t,a,e){!function(a,e){t.exports=e()}(this,function(){return function(t){function a(i){if(e[i])return e[i].exports;var n=e[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}var e={};return a.m=t,a.c=e,a.p="/",a(0)}([function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=!1,i=!1,n=!1,r=!1,o=!1,s={},h=function(t){if(this.canvas=document.querySelector(t),!this.canvas)throw new Error("no canvas element on the selector");this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height,this.canvas.getContext&&(this.ctx=this.canvas.getContext("2d")),e=!0};h.prototype.clearCtx=function(t){if(!e)throw new Error("please initialize before configuration");t||(t={});var a=t.x||0,i=t.y||0,n=t.width||this.canvasWidth,r=t.height||this.canvasHeight;this.ctx.clearRect(a,i,n,r)},h.prototype.textConfig=function(t){if(!e)throw new Error("please initialize before configuration");if(t||(t={}),!t.text)throw new Error("text can not be empty");var a={text:t.text,font:t.font||"50px sans-serif",fontColor:t.fontColor||"#000",textX:t.textX||20,textY:t.textY||100},n=this.ctx.measureText(a.text).width;"function"==typeof t.textX&&(a.textX=t.textX(n)),this.textOpt=a,i=!0},h.prototype.imageConfig=function(t){if(!e)throw new Error("please initialize before configuration");if(t||(t={}),!t.imgUrl)throw new Error("imgUrl can not be empty");var a=new Image,i=this;a.onload=function(){var e=void 0,n={image:a,sx:t.sx||0,sy:t.sy||0,sWidth:t.sWidth||a.width,sHeight:t.sHeight||a.height,dx:t.dx||(i.canvasWidth>a.width?i.canvasWidth/2-a.width/2:0),dy:t.dy||(i.canvasHeight>a.height?i.canvasHeight/2-a.height/2:0),dWidth:t.sWidth||a.width,dHeight:t.sHeight||a.height,contain:t.contain||!1,cover:t.cover||!1};n.contain&&(n.dWidth=i.canvasWidth,n.dHeight=i.canvasHeight),n.cover&&(a.width/a.height>i.canvasWidth/i.canvasHeight?(e=n.dWidth,n.dWidth=i.canvasWidth,n.dHeight=i.canvasWidth*n.dHeight/e):(e=n.dHeight,n.dHeight=i.canvasHeight,n.dWidth=i.canvasHeight*n.dWidth/e),n.dx=i.canvasWidth>n.dWidth?i.canvasWidth/2-n.dWidth/2:0,n.dy=i.canvasHeight>n.dHeight?i.canvasHeight/2-n.dHeight/2:0),i.imageOpt=n,r=!0},a.src=t.imgUrl,n=!0},h.prototype.animationConfig=function(t){if(!e)throw new Error("please initialize before configuration");t||(t={});var a={dataXOffset:t.dataXOffset||0,dataYOffset:t.dataYOffset||0,dataWidth:t.dataWidth||this.canvasWidth,dataHeight:t.dataHeight||this.canvasHeight,cols:t.cols||t.dataWidth||this.canvasWidth,rows:t.rows||t.dataHeight||this.canvasHeight,initialX:t.initialX||this.canvasWidth/2+Math.round(10*(Math.random()-.5)),initialY:t.initialY||Math.floor(this.canvasHeight/2)+Math.round(10*(Math.random()-.5)),totalFrame:t.totalFrame||500,blur:t.blur||0,animationType:t.animationType||"easeOutCirc",delay:t.delay||0,filter:function(){return!0}};("number"==typeof a.delay||"string"==typeof a.delay&&"number"==typeof Number(a.delay))&&!function(){var t=a.delay;a.delay=function(){return t}}(),("number"==typeof a.blur||"string"==typeof a.blur&&"number"==typeof Number(a.blur))&&!function(){var t=Number(a.blur);a.blur=function(){return t}}(),"function"==typeof t.filter&&(a.filter=t.filter),this.animationOpt=a,o=!0},h.prototype.draw=function(){if(!i&&!n)throw new Error("please config text or image before drawing");var t=this;return new Promise(function a(e,o){if(n){if(!r)return void setTimeout(function(){a(e,o)},100);var s=t.imageOpt;t.ctx.drawImage(s.image,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}i&&(t.ctx.font=t.textOpt.font,t.ctx.fillStyle=t.textOpt.fontColor,t.ctx.fillText(t.textOpt.text,t.textOpt.textX,t.textOpt.textY)),e()})},h.prototype.animate=function(){function t(){return i.draw().then(function(){var t=i.ctx.getImageData(n.dataXOffset,n.dataYOffset,n.dataWidth,n.dataHeight);i.clearCtx();for(var a,e,r,o,s=Math.round(n.dataWidth/n.cols),h=Math.round(n.dataHeight/n.rows),d=0,u=t.data,l=1;l<=n.rows;l++)for(var f=1;f<=n.cols;f++)if(d=4*((l*h-1)*n.dataWidth+(f*s-1)),a=u[d],e=u[d+1],r=u[d+2],o=u[d+3],n.filter(a,e,r,o)){var p={dx:n.dataXOffset+f*s+Math.round((Math.random()-.5)*n.blur(a,e,r,o)),dy:n.dataYOffset+l*h+Math.round((Math.random()-.5)*n.blur(a,e,r,o)),ix:n.initialX,iy:n.initialY,cx:n.initialX,cy:n.initialY,finish:!1,delay:n.delay(c.length),fillStyle:"rgba("+a+","+e+","+r+","+o+")"};c.push(p)}})}function a(){return new Promise(function(t,a){function o(){i.clearCtx();for(var a=c.length,d=null,u=0;u<a;u++)if(d=c[u],d.finish?(d.cx=d.cx,d.cy=d.cy):(d.cx=s[n.animationType](r-d.delay<=0?0:r-d.delay,d.ix,d.dx-d.ix,n.totalFrame),d.cy=s[n.animationType](r-d.delay<=0?0:r-d.delay,d.iy,d.dy-d.iy,n.totalFrame),d.dx===d.cx&&d.dy===d.cy&&(d.finish=!0,h++)),i.ctx.fillStyle=d.fillStyle,i.ctx.fillRect(d.cx,d.cy,1,1),h===a&&u===a-1)return cancelAnimationFrame(e),t();r++,e=requestAnimationFrame(o)}o()})}if(!o)throw new Error("please config animation using animationConfig() before invoking animate()");var e,i=this,n=i.animationOpt,r=0,h=0,c=[];return new Promise(function(e,i){t().then(function(){return a()}).then(function(){e()})})},h.prototype.clearText=function(){i=!1},h.prototype.clearImage=function(){n=!1,r=!1},s={easeInQuad:function(t,a,e,i){return e*(t/=i)*t+a},easeOutQuad:function(t,a,e,i){return-e*(t/=i)*(t-2)+a},easeInOutQuad:function(t,a,e,i){return(t/=i/2)<1?e/2*t*t+a:-e/2*(--t*(t-2)-1)+a},easeInCubic:function(t,a,e,i){return e*(t/=i)*t*t+a},easeOutCubic:function(t,a,e,i){return e*((t=t/i-1)*t*t+1)+a},easeInOutCubic:function(t,a,e,i){return(t/=i/2)<1?e/2*t*t*t+a:e/2*((t-=2)*t*t+2)+a},easeInQuart:function(t,a,e,i){return e*(t/=i)*t*t*t+a},easeOutQuart:function(t,a,e,i){return-e*((t=t/i-1)*t*t*t-1)+a},easeInOutQuart:function(t,a,e,i){return(t/=i/2)<1?e/2*t*t*t*t+a:-e/2*((t-=2)*t*t*t-2)+a},easeInQuint:function(t,a,e,i){return e*(t/=i)*t*t*t*t+a},easeOutQuint:function(t,a,e,i){return e*((t=t/i-1)*t*t*t*t+1)+a},easeInOutQuint:function(t,a,e,i){return(t/=i/2)<1?e/2*t*t*t*t*t+a:e/2*((t-=2)*t*t*t*t+2)+a},easeInSine:function(t,a,e,i){return-e*Math.cos(t/i*(Math.PI/2))+e+a},easeOutSine:function(t,a,e,i){return e*Math.sin(t/i*(Math.PI/2))+a},easeInOutSine:function(t,a,e,i){return-e/2*(Math.cos(Math.PI*t/i)-1)+a},easeInExpo:function(t,a,e,i){return 0==t?a:e*Math.pow(2,10*(t/i-1))+a},easeOutExpo:function(t,a,e,i){return t==i?a+e:e*(-Math.pow(2,-10*t/i)+1)+a},easeInOutExpo:function(t,a,e,i){return 0==t?a:t==i?a+e:(t/=i/2)<1?e/2*Math.pow(2,10*(t-1))+a:e/2*(-Math.pow(2,-10*--t)+2)+a},easeInCirc:function(t,a,e,i){return-e*(Math.sqrt(1-(t/=i)*t)-1)+a},easeOutCirc:function(t,a,e,i){return e*Math.sqrt(1-(t=t/i-1)*t)+a},easeInOutCirc:function(t,a,e,i){return(t/=i/2)<1?-e/2*(Math.sqrt(1-t*t)-1)+a:e/2*(Math.sqrt(1-(t-=2)*t)+1)+a},easeInElastic:function(t,a,e,i){var n=1.70158,r=0,o=e;if(0==t)return a;if(1==(t/=i))return a+e;if(r||(r=.3*i),o<Math.abs(e)){o=e;var n=r/4}else var n=r/(2*Math.PI)*Math.asin(e/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/r))+a},easeOutElastic:function(t,a,e,i){var n=1.70158,r=0,o=e;if(0==t)return a;if(1==(t/=i))return a+e;if(r||(r=.3*i),o<Math.abs(e)){o=e;var n=r/4}else var n=r/(2*Math.PI)*Math.asin(e/o);return o*Math.pow(2,-10*t)*Math.sin((t*i-n)*(2*Math.PI)/r)+e+a},easeInOutElastic:function(t,a,e,i){var n=1.70158,r=0,o=e;if(0==t)return a;if(2==(t/=i/2))return a+e;if(r||(r=i*(.3*1.5)),o<Math.abs(e)){o=e;var n=r/4}else var n=r/(2*Math.PI)*Math.asin(e/o);return t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/r))+a:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/r)*.5+e+a},easeInBack:function(t,a,e,i,n){return void 0==n&&(n=1.70158),e*(t/=i)*t*((n+1)*t-n)+a},easeOutBack:function(t,a,e,i,n){return void 0==n&&(n=1.70158),e*((t=t/i-1)*t*((n+1)*t+n)+1)+a},easeInOutBack:function(t,a,e,i,n){return void 0==n&&(n=1.70158),(t/=i/2)<1?e/2*(t*t*(((n*=1.525)+1)*t-n))+a:e/2*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)+a},easeInBounce:function(t,a,e,i){return e-jQuery.easing.easeOutBounce(i-t,0,e,i)+a},easeOutBounce:function(t,a,e,i){return(t/=i)<1/2.75?e*(7.5625*t*t)+a:t<2/2.75?e*(7.5625*(t-=1.5/2.75)*t+.75)+a:t<2.5/2.75?e*(7.5625*(t-=2.25/2.75)*t+.9375)+a:e*(7.5625*(t-=2.625/2.75)*t+.984375)+a}},a.Partimate=h,a["default"]=h}])})}});